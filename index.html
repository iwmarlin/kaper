<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bronis≈Çaw Kaper - Films and Songs</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            color: #111827;
            overflow-x: hidden;
            min-height: 100vh;
        }
        
        .container {
            width: 100vw;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        .header {
            text-align: center;
            padding: 4rem 2rem;
            background: linear-gradient(135deg, #1f2937 0%, #374151 100%);
            color: white;
            position: relative;
            overflow: hidden;
        }
        
        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="20" cy="20" r="0.5" fill="rgba(255,255,255,0.1)"/><circle cx="80" cy="80" r="0.3" fill="rgba(255,255,255,0.05)"/><circle cx="40" cy="70" r="0.4" fill="rgba(255,255,255,0.08)"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
            opacity: 0.6;
            pointer-events: none;
        }
        
        .header > * {
            position: relative;
            z-index: 1;
        }
        
        .header-content {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 3rem;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .header-portrait {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        
        .header-text {
            flex: 1;
        }
        
        .title {
            font-size: 4rem;
            font-weight: 200;
            margin-bottom: 1rem;
            letter-spacing: -0.025em;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .period {
            font-size: 1.125rem;
            color: #d1d5db;
            font-weight: 300;
            letter-spacing: 0.05em;
        }
        
        .navigation {
            display: flex;
            justify-content: center;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            gap: 3rem;
            border-bottom: 1px solid rgba(229, 231, 235, 0.6);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
        }
        
        .nav-btn {
            background: none;
            border: none;
            font-size: 1.125rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-weight: 500;
            padding-bottom: 0.75rem;
            cursor: pointer;
            transition: all 0.3s ease;
            color: #9ca3af;
        }
        
        .nav-btn.active {
            color: #111827;
            border-bottom: 2px solid #111827;
        }
        
        .nav-btn:hover {
            color: #374151;
        }
        
        .content {
            flex: 1;
            padding: 3rem 4rem;
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(10px);
            margin: 2rem;
            border-radius: 1.5rem;
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.8);
        }
        
        .view {
            display: none;
        }
        
        .view.active {
            display: block;
        }
        
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 4rem;
            margin-bottom: 4rem;
        }
        
        .metric {
            text-align: center;
        }
        
        .metric-number {
            font-size: 4rem;
            font-weight: 200;
            margin-bottom: 1rem;
        }
        
        .metric-label {
            font-size: 1.25rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: #374151;
            margin-bottom: 0.5rem;
        }
        
        .metric-sublabel {
            font-size: 0.875rem;
            color: #9ca3af;
        }
        
        .studio-overview {
            margin: 3rem 0;
            padding: 2.5rem;
            background: linear-gradient(135deg, rgba(249, 250, 251, 0.9) 0%, rgba(243, 244, 246, 0.9) 100%);
            backdrop-filter: blur(10px);
            border-radius: 1.25rem;
            border: 1px solid rgba(229, 231, 235, 0.6);
            box-shadow: 0 8px 20px -4px rgba(0, 0, 0, 0.08);
        }
        
        .studio-overview-title {
            font-size: 1.5rem;
            font-weight: 300;
            text-align: center;
            margin-bottom: 2rem;
            color: #111827;
        }
        
        .collaboration-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 2rem;
            margin-bottom: 2rem;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(5px);
            border-radius: 1rem;
            border: 1px solid rgba(209, 213, 219, 0.4);
            box-shadow: 0 4px 12px -2px rgba(0, 0, 0, 0.05);
        }
        
        .collab-stat {
            text-align: center;
        }
        
        .collab-number {
            font-size: 2.5rem;
            font-weight: 200;
            color: #111827;
            margin-bottom: 0.5rem;
        }
        
        .collab-label {
            font-size: 1rem;
            font-weight: 500;
            color: #374151;
            margin-bottom: 0.25rem;
        }
        
        .collab-detail {
            font-size: 0.875rem;
            color: #6b7280;
        }
        
        .studio-periods {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 2rem;
        }
        
        .studio-period {
            position: relative;
            padding: 1.5rem;
            border-radius: 1rem;
            background: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(5px);
        }
        
        .studio-period h5 {
            font-size: 1.125rem;
            font-weight: 500;
            margin-bottom: 0.75rem;
            color: #374151;
        }
        
        .studio-period p {
            font-size: 0.875rem;
            color: #6b7280;
            line-height: 1.5;
        }
        
        .period-image {
            width: 60px;
            height: 60px;
            border-radius: 8px;
            object-fit: cover;
            position: absolute;
            top: 1rem;
            right: 1rem;
            opacity: 0.7;
            transition: opacity 0.3s ease;
        }
        
        .studio-period:hover .period-image {
            opacity: 1;
        }
        
        .periods-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 3rem;
            margin-top: 4rem;
        }
        
        .period-card {
            text-align: center;
            cursor: pointer;
            transition: transform 0.3s ease;
            position: relative;
            padding: 2rem 1.5rem;
            border-radius: 1.25rem;
            background: rgba(255, 255, 255, 0.5);
            backdrop-filter: blur(10px);
        }
        
        .period-card:hover {
            transform: translateY(-4px);
        }
        
        .period-background {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-size: cover;
            background-position: center;
            border-radius: 1.25rem;
            opacity: 0.1;
            transition: opacity 0.3s ease;
        }
        
        .period-card:hover .period-background {
            opacity: 0.15;
        }
        
        .period-number {
            width: 5rem;
            height: 5rem;
            border-radius: 50%;
            margin: 0 auto 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            font-weight: 300;
            color: white;
            box-shadow: 0 8px 16px -4px rgba(0, 0, 0, 0.2);
            position: relative;
            z-index: 2;
        }
        
        .period-number::before {
            content: '';
            position: absolute;
            inset: -2px;
            border-radius: 50%;
            background: linear-gradient(45deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
            z-index: -1;
        }
        
        .period-name {
            font-size: 1.5rem;
            font-weight: 300;
            margin-bottom: 0.75rem;
            position: relative;
            z-index: 2;
        }
        
        .period-years {
            color: #6b7280;
            margin-bottom: 1rem;
            position: relative;
            z-index: 2;
        }
        
        .period-stats {
            font-size: 1.125rem;
            font-weight: 300;
            margin-bottom: 0.5rem;
            position: relative;
            z-index: 2;
        }
        
        .period-desc {
            font-size: 0.875rem;
            color: #9ca3af;
            position: relative;
            z-index: 2;
        }
        
        .period-studios {
            font-size: 0.75rem;
            color: #6b7280;
            margin-top: 0.5rem;
            font-style: italic;
            position: relative;
            z-index: 2;
        }
        
        .chart-container {
            height: 400px;
            margin: 2rem 0;
        }
        
        .filters {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            margin-bottom: 3rem;
        }
        
        .filter-btn {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(209, 213, 219, 0.6);
            padding: 0.75rem 1.5rem;
            border-radius: 9999px;
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            color: #6b7280;
            box-shadow: 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        
        .filter-btn.active {
            background: linear-gradient(135deg, #111827 0%, #374151 100%);
            color: white;
            border-color: #111827;
            box-shadow: 0 4px 8px -2px rgba(17, 24, 39, 0.4);
            transform: translateY(-1px);
        }
        
        .filter-btn:hover:not(.active) {
            color: #374151;
            border-color: #9ca3af;
            background: rgba(255, 255, 255, 0.95);
            transform: translateY(-1px);
            box-shadow: 0 4px 8px -2px rgba(0, 0, 0, 0.1);
        }
        
        .legend {
            display: flex;
            justify-content: center;
            gap: 3rem;
            margin-top: 2rem;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        
        .legend-color {
            width: 1rem;
            height: 1rem;
            border-radius: 0.25rem;
        }
        
        .periods-detail {
            display: flex;
            flex-direction: column;
            gap: 4rem;
        }
        
        .period-detail {
            display: flex;
            align-items: center;
            gap: 3rem;
            padding: 2.5rem;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, rgba(249, 250, 251, 0.9) 100%);
            backdrop-filter: blur(10px);
            border-radius: 1.25rem;
            border: 1px solid rgba(229, 231, 235, 0.6);
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        .period-detail::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(17, 24, 39, 0.02) 0%, rgba(55, 65, 81, 0.02) 100%);
            opacity: 0;
            transition: opacity 0.4s ease;
        }
        
        .period-detail:hover::before {
            opacity: 1;
        }
        
        .period-detail:hover {
            border-color: rgba(156, 163, 175, 0.4);
            transform: translateY(-4px);
            box-shadow: 0 12px 28px -4px rgba(0, 0, 0, 0.15), 0 4px 12px -2px rgba(0, 0, 0, 0.08);
        }
        
        .period-detail > * {
            position: relative;
            z-index: 1;
        }
        
        .period-detail-number {
            width: 4rem;
            height: 4rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: 300;
            color: white;
            flex-shrink: 0;
            box-shadow: 0 6px 12px -2px rgba(0, 0, 0, 0.15);
            position: relative;
        }
        
        .period-detail-number::before {
            content: '';
            position: absolute;
            inset: -1px;
            border-radius: 50%;
            background: linear-gradient(45deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
            z-index: -1;
        }
        
        .period-detail-content {
            flex: 1;
        }
        
        .period-detail-name {
            font-size: 2rem;
            font-weight: 300;
            margin-bottom: 0.5rem;
        }
        
        .period-detail-years {
            color: #6b7280;
            font-size: 1.125rem;
            margin-bottom: 0.75rem;
        }
        
        .period-detail-desc {
            color: #374151;
            margin-bottom: 0.5rem;
        }
        
        .period-detail-partner {
            font-size: 0.875rem;
            color: #9ca3af;
        }
        
        .period-detail-studios {
            font-size: 0.75rem;
            color: #6b7280;
            margin-top: 0.25rem;
            font-style: italic;
        }
        
        .period-detail-stats {
            text-align: right;
            flex-shrink: 0;
        }
        
        .period-detail-total {
            font-size: 2.5rem;
            font-weight: 300;
            margin-bottom: 0.5rem;
        }
        
        .period-detail-label {
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: #6b7280;
            margin-bottom: 1rem;
        }
        
        .period-detail-breakdown {
            font-size: 0.875rem;
            color: #374151;
            line-height: 1.5;
        }
        
        .filmography-filters {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            margin-bottom: 3rem;
        }
        
        .films-container {
            max-height: 60vh;
            overflow-y: auto;
            padding: 0 1rem;
        }
        
        .films-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 1.5rem;
        }
        
        .film-card {
            background: linear-gradient(135deg, rgba(249, 250, 251, 0.95) 0%, rgba(255, 255, 255, 0.95) 100%);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(229, 231, 235, 0.6);
            border-radius: 1.25rem;
            padding: 2rem;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        .film-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(17, 24, 39, 0.02) 0%, rgba(55, 65, 81, 0.02) 100%);
            opacity: 0;
            transition: opacity 0.4s ease;
        }
        
        .film-card:hover::before {
            opacity: 1;
        }
        
        .film-card:hover {
            border-color: rgba(156, 163, 175, 0.4);
            box-shadow: 0 12px 28px -4px rgba(0, 0, 0, 0.15), 0 4px 12px -2px rgba(0, 0, 0, 0.08);
            transform: translateY(-4px);
        }
        
        .film-card > * {
            position: relative;
            z-index: 1;
        }
        
        .film-poster {
            width: 80px;
            height: 120px;
            object-fit: cover;
            border-radius: 8px;
            float: right;
            margin-left: 1rem;
            margin-bottom: 1rem;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        
        .film-title {
            font-size: 1.125rem;
            font-weight: 500;
            margin-bottom: 0.5rem;
            color: #111827;
        }
        
        .film-year {
            font-size: 0.875rem;
            color: #6b7280;
            margin-bottom: 0.75rem;
        }
        
        .film-details {
            font-size: 0.875rem;
            color: #374151;
            line-height: 1.5;
        }
        
        .film-partner {
            margin-top: 0.5rem;
            font-size: 0.75rem;
            color: #9ca3af;
        }
        
        .film-notes {
            margin-top: 0.5rem;
            font-size: 0.75rem;
            color: #6b7280;
            font-style: italic;
        }
        
        .period-badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 0.75rem;
        }
        
        .period-european {
            background-color: #6b7280;
            color: white;
        }
        
        .period-hollywood {
            background-color: #111827;
            color: white;
        }
        
        .song-sheet {
            width: 60px;
            height: 80px;
            object-fit: cover;
            border-radius: 4px;
            float: right;
            margin-left: 1rem;
            margin-bottom: 0.5rem;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
        }
        
        .fallback-image {
            background: linear-gradient(45deg, #f3f4f6, #e5e7eb);
            display: flex;
            align-items: center;
            justify-content: center;
            color: #9ca3af;
            font-size: 0.75rem;
            text-align: center;
        }
        
        @media (max-width: 768px) {
            .title { font-size: 2.5rem; }
            .header-content { flex-direction: column; gap: 1.5rem; }
            .header-portrait { width: 80px; height: 80px; }
            .metrics-grid { grid-template-columns: repeat(2, 1fr); gap: 2rem; }
            .periods-grid { grid-template-columns: 1fr; }
            .period-detail { flex-direction: column; text-align: center; }
            .content { padding: 2rem; }
            .navigation { gap: 1rem; }
            .films-grid { grid-template-columns: 1fr; }
            .studio-periods { grid-template-columns: 1fr; }
            .collaboration-stats { grid-template-columns: 1fr; }
            .film-poster { float: none; margin: 0 auto 1rem; display: block; }
            .song-sheet { float: none; margin: 0 auto 0.5rem; display: block; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="header-content">
                <img src="assets/images/portraits/kaper-young.jpg" alt="Bronis≈Çaw Kaper" class="header-portrait" onerror="this.style.display='none'">
                <div class="header-text">
                    <h2 class="title">The Works of Bronis≈Çaw Kaper in the Context of Migration</h2>
                    <h3 class="period">1926‚Äì1939</h3>
                </div>
            </div>
        </div>
        
        <div class="navigation">
            <button class="nav-btn active" id="nav-overview">Overview</button>
            <button class="nav-btn" id="nav-timeline">Timeline</button>
            <button class="nav-btn" id="nav-periods">Periods</button>
            <button class="nav-btn" id="nav-filmography">Filmography</button>
            <button class="nav-btn" id="nav-songs">Songs</button>
        </div>
        
        <div class="content">
            <div id="overview" class="view active">
                <div class="metrics-grid">
                    <div class="metric">
                        <div class="metric-number">172</div>
                        <div class="metric-label">Total Songs</div>
                        <div class="metric-sublabel">1926‚Äì1939</div>
                    </div>
                    <div class="metric">
                        <div class="metric-number">53</div>
                        <div class="metric-label">Film Titles</div>
                        <div class="metric-sublabel">31 European + 22 Hollywood</div>
                    </div>
                    <div class="metric">
                        <div class="metric-number">78%</div>
                        <div class="metric-label">Songs with Jurmann</div>
                        <div class="metric-sublabel">134 of 172 songs</div>
                    </div>
                </div>
                
                <div class="studio-overview">
                    <h4 class="studio-overview-title">Collaboration Statistics</h4>
                    <div class="collaboration-stats">
                        <div class="collab-stat">
                            <div class="collab-number">94%</div>
                            <div class="collab-label">Films with Jurmann</div>
                            <div class="collab-detail">50 of 53 films</div>
                        </div>
                        <div class="collab-stat">
                            <div class="collab-number">78%</div>
                            <div class="collab-label">Songs with Jurmann</div>
                            <div class="collab-detail">134 of 172 songs</div>
                        </div>
                    </div>
                    <div class="studio-periods">
                        <div class="studio-period">
                            <img src="assets/images/timeline/1930s-berlin.jpg" alt="Berlin 1930s" class="period-image" onerror="this.style.display='none'">
                            <h5>European Period (1930-1934)</h5>
                            <p>Diverse studio landscape: UFA-Berlin, Aafa-Film, Emelka, Cine-Allianz, and French productions</p>
                        </div>
                        <div class="studio-period">
                            <img src="assets/images/timeline/hollywood-golden-age.jpg" alt="Hollywood Golden Age" class="period-image" onerror="this.style.display='none'">
                            <h5>Hollywood Period (1935-1939)</h5>
                            <p>MGM dominance with 16/22 films; additional work at Universal Pictures and 20th Century Fox</p>
                        </div>
                    </div>
                </div>
                
                <div class="periods-grid">
                    <div class="period-card" onclick="showPeriodTimeline('warsaw')">
                        <div class="period-background" style="background-image: url('assets/images/timeline/1920s-warsaw.jpg');"></div>
                        <div class="period-number" style="background-color: #e5e7eb; color: #374151;">1</div>
                        <h3 class="period-name">Between Warsaw and Berlin</h3>
                        <p class="period-years">1926‚Äì1929</p>
                        <div class="period-stats">14 songs ¬∑ 0 films</div>
                        <p class="period-desc">Early songs with Polish or German lyrics</p>
                    </div>
                    <div class="period-card" onclick="showPeriodTimeline('european')">
                        <div class="period-background" style="background-image: url('assets/images/timeline/1930s-berlin.jpg');"></div>
                        <div class="period-number" style="background-color: #6b7280;">2</div>
                        <h3 class="period-name">European Period</h3>
                        <p class="period-years">1930‚Äì1934</p>
                        <div class="period-stats">94 songs ¬∑ 31 films</div>
                        <p class="period-desc">Berlin, Paris & international films</p>
                        <p class="period-studios">Main studios: UFA, Aafa, Emelka</p>
                    </div>
                    <div class="period-card" onclick="showPeriodTimeline('hollywood')">
                        <div class="period-background" style="background-image: url('assets/images/timeline/hollywood-golden-age.jpg');"></div>
                        <div class="period-number" style="background-color: #111827;">3</div>
                        <h3 class="period-name">Hollywood Period</h3>
                        <p class="period-years">1935‚Äì1939</p>
                        <div class="period-stats">63 songs ¬∑ 22 films</div>
                        <p class="period-desc">MGM studio contract (73% of films)</p>
                        <p class="period-studios">Main studios: MGM, Universal</p>
                    </div>
                </div>
            </div>
            
            <div id="timeline" class="view">
                <div class="filters">
                    <button class="filter-btn active" onclick="filterPeriod('all')" id="filter-all">All Periods</button>
                    <button class="filter-btn" onclick="filterPeriod('warsaw')" id="filter-warsaw">Warsaw-Berlin</button>
                    <button class="filter-btn" onclick="filterPeriod('european')" id="filter-european">Europe</button>
                    <button class="filter-btn" onclick="filterPeriod('hollywood')" id="filter-hollywood">Hollywood</button>
                </div>
                
                <div class="chart-container">
                    <canvas id="timelineChart"></canvas>
                </div>
                
                <div class="legend">
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #e5e7eb;"></div>
                        <span>Songs</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #374151;"></div>
                        <span>Films</span>
                    </div>
                </div>
            </div>
            
            <div id="periods" class="view">
                <div class="periods-detail">
                    <div class="period-detail" onclick="showPeriodTimeline('warsaw')">
                        <div class="period-detail-number" style="background-color: #e5e7eb; color: #374151;">1</div>
                        <div class="period-detail-content">
                            <h3 class="period-detail-name">Warsaw-Berlin</h3>
                            <p class="period-detail-years">1926‚Äì1929</p>
                            <p class="period-detail-desc">Early songs with Polish or German lyrics</p>
                            <p class="period-detail-partner">Partners: Andrzej W≈Çast & Fritz Rotter</p>
                        </div>
                        <div class="period-detail-stats">
                            <div class="period-detail-total">14</div>
                            <div class="period-detail-label">Total Works</div>
                            <div class="period-detail-breakdown">
                                <div>14 songs</div>
                                <div>0 films</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="period-detail" onclick="showPeriodTimeline('european')">
                        <div class="period-detail-number" style="background-color: #6b7280;">2</div>
                        <div class="period-detail-content">
                            <h3 class="period-detail-name">European Period</h3>
                            <p class="period-detail-years">1930‚Äì1934</p>
                            <p class="period-detail-desc">Berlin, Paris, international films</p>
                            <p class="period-detail-partner">Partners: Walter Jurmann & Fritz Rotter</p>
                            <p class="period-detail-studios">Key studios: UFA-Berlin, Aafa-Film, Emelka, Cine-Allianz</p>
                        </div>
                        <div class="period-detail-stats">
                            <div class="period-detail-total">125</div>
                            <div class="period-detail-label">Total Works</div>
                            <div class="period-detail-breakdown">
                                <div>94 songs</div>
                                <div>31 films</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="period-detail" onclick="showPeriodTimeline('hollywood')">
                        <div class="period-detail-number" style="background-color: #111827;">3</div>
                        <div class="period-detail-content">
                            <h3 class="period-detail-name">Hollywood Period</h3>
                            <p class="period-detail-years">1935‚Äì1939</p>
                            <p class="period-detail-desc">MGM studio contract</p>
                            <p class="period-detail-partner">Partners: Walter Jurmann, Gus Kahn, Ned Washington</p>
                            <p class="period-detail-studios">MGM dominance: 16/22 films (73%); also Universal, 20th Century Fox</p>
                        </div>
                        <div class="period-detail-stats">
                            <div class="period-detail-total">85</div>
                            <div class="period-detail-label">Total Works</div>
                            <div class="period-detail-breakdown">
                                <div>63 songs</div>
                                <div>22 films</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div id="filmography" class="view">
                <div class="filmography-filters">
                    <button class="filter-btn active" onclick="filterFilms('all')" id="films-all">All Films (53)</button>
                    <button class="filter-btn" onclick="filterFilms('european')" id="films-european">European Period (31)</button>
                    <button class="filter-btn" onclick="filterFilms('hollywood')" id="films-hollywood">Hollywood Period (22)</button>
                </div>
                
                <div class="films-container">
                    <div class="films-grid" id="filmsGrid">
                        <!-- Films will be populated by JavaScript -->
                    </div>
                </div>
            </div>
            
            <div id="songs" class="view">
                <div class="filmography-filters">
                    <button class="filter-btn active" onclick="filterSongs('all')" id="songs-all">All Songs (172)</button>
                    <button class="filter-btn" onclick="filterSongs('warsaw')" id="songs-warsaw">Warsaw-Berlin (14)</button>
                    <button class="filter-btn" onclick="filterSongs('european')" id="songs-european">European Period (94)</button>
                    <button class="filter-btn" onclick="filterSongs('hollywood')" id="songs-hollywood">Hollywood Period (63)</button>
                </div>
                
                <div class="films-container">
                    <div class="films-grid" id="songsGrid">
                        <!-- Songs will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        const timelineData = [
            { year: 1926, songs: 4, films: 0 },
            { year: 1927, songs: 2, films: 0 },
            { year: 1929, songs: 8, films: 0 },
            { year: 1930, songs: 16, films: 3 },
            { year: 1931, songs: 19, films: 4 },
            { year: 1932, songs: 19, films: 8 },
            { year: 1933, songs: 25, films: 12 },
            { year: 1934, songs: 15, films: 4 },
            { year: 1935, songs: 13, films: 8 },
            { year: 1936, songs: 25, films: 5 },
            { year: 1937, songs: 22, films: 5 },
            { year: 1938, songs: 1, films: 2 },
            { year: 1939, songs: 2, films: 2 }
        ];

        // Enhanced film data with poster paths
        const filmData = [
            { title: "Ihre Majest√§t die Liebe", director: "Joe May", year: 1931, period: "european", jurmann: "yes", production: "Joe May-Film AG", poster: "assets/images/film-posters/european-period/ihre-majestat-die-liebe.jpg" },
            { title: "Son altesse l'amour", director: "Robert P√©guy, Erich Schmidt", year: 1931, period: "european", jurmann: "yes", production: "International Standard Film, Paris/Joe May-Film Berlin", version: "Ihre Majest√§t die Liebe" },
            { title: "Die lustigen Musikanten (Laubenkolonie)", director: "Max Obal", year: 1930, period: "european", jurmann: "no", production: "Aafa-Film AG, Berlin", poster: "assets/images/film-posters/european-period/laubenkolonie" },
            { title: "Alraune", director: "Richard Oswald", year: 1930, period: "european", jurmann: "no", production: "Richard Oswald-Produktion GmbH, Berlin", poster: "assets/images/film-posters/european-period/alraune.jpg" },
            { title: "Seitenspr√ºnge", director: "Istv√°n Sz√©kely", year: 1931, period: "european", jurmann: "yes", production: "Cicero-Film GmbH, Berlin", poster: "assets/images/film-posters/european-period/seitensprunge.jpg" },
            { title: "Der Korvettenkapit√§n", director: "Rudolf Walther-Fein", year: 1930, period: "european", jurmann: "no", production: "Aafa-Film AG, Berlin", poster: "assets/images/film-posters/european-period/korvettenkapitan.jpg" },
            { title: "Die gro√üe Attraktion", director: "Max Reichmann", year: 1931, period: "european", jurmann: "yes", production: "Emelka AG", poster: "assets/images/film-posters/european-period/grosse-atraktion.jpg" },
            { title: "Ehe mit beschr√§nkter Haftung", director: "Franz Wenzler", year: 1932, period: "european", jurmann: "yes", production: "Hisa-Film Berlin/T.K. Tonfilm_Produktion GmbH", poster: "assets/images/film-posters/ehe.jpg" },
            { title: "Mariage √† responsabilit√© limit√©e", director: "Jean de Limur", year: 1933, period: "european", jurmann: "yes", production: "Vandor-Film, Francja", version: "Ehe mit beschr√§nkter Haftung" },
            { title: "Es wird schon wieder besser...", director: "Kurt Gerron", year: 1932, period: "european", jurmann: "yes", production: "UFA-Berlin", poster: "assets/images/film-posters/european-period/wieder-besser.jpg" },
            { title: "Skandal in der Parkstrasse", director: "Franz Wenzler", year: 1932, period: "european", jurmann: "yes", production: "Kreis-Film, Berlin", poster: "assets/images/film-posters/european-period/skandal-in-parkstrasse.jpg" },
            { title: "Melodie der Liebe", director: "Georg Jacoby", year: 1932, period: "european", jurmann: "yes", production: "Reichsliga-Film Berlin", poster: "assets/images/film-posters/european-period/melodie-die-liebe.jpg" },
            { title: "Ein toller Einfall", director: "Kurt Gerron", year: 1932, period: "european", jurmann: "yes", production: "Emelka Munchner Filmgesselschaft", poster: "assets/images/film-posters/european-period/ein-toller-einfall.jpg" },
            { title: "Die Zwei vom S√ºdexpre√ü", director: "Robert Wohlmuth", year: 1932, period: "european", jurmann: "yes", production: "Emelka-Konzern", poster: "assets/images/film-posters/european-period/die-zwei.jpg" },
            { title: "Hochzeitsreise zu Dritt", director: "Karl Meinhardt", year: 1932, period: "european", jurmann: "yes", production: "Mondial Internationale Filmindustrie AG, Wien", poster: "assets/images/film-posters/european-period/hochzeitreise.jpg" },
            { title: "Voyage de noces", director: "Germain Fried, Erich Schmidt", year: 1932, period: "european", jurmann: "yes", production: "Soci√©t√© Internationale Cin√©matographique", version: "Hochzeitsreise zu Dritt" },
            { title: "Madame w√ºnscht keine Kinder", director: "Hans Steinhoff", year: 1933, period: "european", jurmann: "yes", production: "UFA", poster: "assets/images/film-posters/european-period/madame-wunscht-keine-kinder.jpg" },
            { title: "L'Homme qui ne sait pas dire non", director: "Heinz Hilpert", year: 1933, period: "european", jurmann: "yes", production: "UFA-Cine Allianz", version: "Ich will Dich Liebe lehren" },
            { title: "Madame ne veut pas d'enfants", director: "Constantin Landau, Hans Steinhoff", year: 1933, period: "european", jurmann: "yes", production: "Vandor Film", version: "Madame w√ºnscht keine Kinder" },
            { title: "Heut kommt's drauf an", director: "Kurt Gerron", year: 1933, period: "european", jurmann: "yes", production: "Boston-Films-Co Berlin", poster: "assets/images/film-posters/european-period/heut-kommt.jpg" },
            { title: "Ich will Dich Liebe lehren [Der gl√ºckliche Herr F√ºnf]", director: "Heinz Hilpert", year: 1933, period: "european", jurmann: "yes", production: "Pax Film GmbH", poster: "assets/images/film-posters/european-period/liebe-lehren.jpg" },
            { title: "Ein Lied f√ºr Dich", director: "Joe May", year: 1933, period: "european", jurmann: "yes", production: "UFA (Neubabelsberg) & Cine-Allianz", poster: "assets/images/film-posters/european-period/ein-lied-fur-dich.jpg" },
            { title: "My Song for You", director: "Maurice Elvey", year: 1934, period: "european", jurmann: "yes", production: "Gaumont British Picture Corporation/Cine Allianz", version: "Ein Lied f√ºr Dich" },
            { title: "Kind, ich freu' mich auf Dein Kommen", director: "Kurt Gerron, Erich von Neusser", year: 1933, period: "european", jurmann: "yes", production: "Pan-Film KG-Leopold Meissner/Austria" },
            { title: "Tout pour l'amour", director: "Henri-Georges Clouzot, Joe May", year: 1933, period: "european", jurmann: "yes", production: "Cine-Allianz Tonfilm & UFA", version: "Ein Lied f√ºr Dich" },
            { title: "Abenteuer am Lido", director: "Richard Oswald", year: 1933, period: "european", jurmann: "yes", production: "Richard Oswald-Produktion", poster: "assets/images/film-posters/european-period/lido.jpg" },
            { title: "Le chant du destin", director: "Jean Legrand", year: 1933, period: "european", jurmann: "yes", production: "Pan-Film", poster: "assets/images/film-posters/european-period/chant-du-destin.jpg" },
            { title: "On a vol√© un homme", director: "Max Ophuls", year: 1934, period: "european", jurmann: "yes", production: "Fox Europa", poster: "assets/images/film-posters/european-period/vole-un-homme.jpg" },
            { title: "Le greluchon d√©licat", director: "Pierre Billon", year: 1934, period: "european", jurmann: "yes", production: "Foc Film Cooperation, Europa Films, Francja" },
            { title: "Les nuits moscovites", director: "Alexis Granovsky", year: 1934, period: "european", jurmann: "yes", production: "G.G. Film-France", poster: "assets/images/film-posters/european-period/nuits-moscovites.jpg" },
            { title: "Une femme au volant", director: "Pierre Billon, Kurt Gerron", year: 1933, period: "european", jurmann: "yes", production: "Films R.P." },
            { title: "Moscow Nights", director: "Anthony Asquith", year: 1935, period: "hollywood", jurmann: "yes", production: "London Films", version: "Les nuits moscovites" },
            { title: "Escapade", director: "Robert Z. Leonard", year: 1935, period: "hollywood", jurmann: "yes", production: "MGM" },
            { title: "Mutiny on the Bounty", director: "Frank Lloyd", year: 1935, period: "hollywood", jurmann: "yes", production: "MGM", poster: "assets/images/film-posters/hollywood-period/mutiny-on-the-bounty.jpg" },
            { title: "Last of the Pagans", director: "Richard Thorpe", year: 1935, period: "hollywood", jurmann: "yes", production: "MGM" },
            { title: "A night at the opera", director: "Sam Wood", year: 1935, period: "hollywood", jurmann: "yes", production: "MGM", poster: "assets/images/film-posters/hollywood-period/night-at-the-opera.jpg" },
            { title: "Kind Lady", director: "George B. Seitz", year: 1935, period: "hollywood", jurmann: "yes", production: "MGM" },
            { title: "The Perfect Gentleman", director: "Tim Whelan", year: 1935, period: "hollywood", jurmann: "yes", production: "MGM" },
            { title: "Two Hearts in Wax Time", director: "William V. Skall", year: 1935, period: "hollywood", jurmann: "yes", production: "MGM" },
            { title: "Little Boy Blue", director: "Charles Lamont", year: 1936, period: "hollywood", jurmann: "yes", production: "Universal" },
            { title: "Trouble for Two", director: "J. Walter Ruben", year: 1936, period: "hollywood", jurmann: "yes", production: "MGM" },
            { title: "We Went to College", director: "Joseph Santley", year: 1936, period: "hollywood", jurmann: "yes", production: "MGM" },
            { title: "Three Smart Girls", director: "Henry Koster", year: 1936, period: "hollywood", jurmann: "yes", production: "Universal Pictures" },
            { title: "San Francisco", director: "W.S. Van Dyke", year: 1936, period: "hollywood", jurmann: "yes", production: "MGM", poster: "assets/images/film-posters/hollywood-period/san-francisco.jpg" },
            { title: "Man of the People", director: "Edwin L. Marin", year: 1937, period: "hollywood", jurmann: "yes", production: "MGM" },
            { title: "Un coup de Rouge", director: "Jacques de Baroncelli", year: 1937, period: "hollywood", jurmann: "yes", production: "Cindeproduction, France" },
            { title: "Wings of the morning", director: "Harold D. Schuster", year: 1937, period: "hollywood", jurmann: "yes", production: "20th Century Fox" },
            { title: "A day at the races", director: "Sam Wood", year: 1937, period: "hollywood", jurmann: "yes", production: "MGM", poster: "assets/images/film-posters/hollywood-period/day-at-the-races.jpg" },
            { title: "Maytime", director: "Robert Z. Leonard", year: 1937, period: "hollywood", jurmann: "yes", production: "MGM" },
            { title: "Everybody Sing", director: "Edwin L. Marin", year: 1938, period: "hollywood", jurmann: "yes", production: "MGM" },
            { title: "The Spy Ring", director: "Joseph H. Lewis", year: 1938, period: "hollywood", jurmann: "yes", production: "Universal" },
            { title: "The Adventures of Huckleberry Finn", director: "Richard Thorpe", year: 1939, period: "hollywood", jurmann: "yes", production: "MGM" },
            { title: "Birtright", director: "Oscar Micheaux", year: 1939, period: "hollywood", jurmann: "yes", production: "Micheaux Pictures" }
        ];

        // Enhanced songs data with sheet music paths  
        const songsData = [
            { title: "All God's chillun got rhythm", genre: null, year: 1937, publisher: "Robbins Music Corporation", lyricist: "Gus Kahn", notes: "with Jurmann", film: "A day at the races", period: "hollywood", sheet: "assets/images/sheet-music/all-gods-chillun.jpg" },
            { title: "Blue Venetian Waters", genre: null, year: 1936, publisher: "Robbins Music Corporation", lyricist: "Gus Kahn", notes: "with Jurmann", film: "A day at the races", period: "hollywood", sheet: "assets/images/sheet-music/blue-venetian-waters.jpg" },
            { title: "A Message from the Man in the Moon", genre: null, year: 1937, publisher: "Robbins Music Corporation", lyricist: "Gus Kahn", notes: "with Jurmann", film: "A day at the races", period: "hollywood" },
            { title: "Tomorrow is another day ", genre: null, year: 1937, publisher: "Robbins Music Corporation", lyricist: "Gus Kahn", notes: "with Jurmann", film: "A day at the races", period: "hollywood" },
            { title: "Cos√≠, Cosa", genre: null, year: 1935, publisher: "Robbins Music Corporation", lyricist: "Ned Washington", notes: "with Jurmann", film: "A night at the opera", period: "hollywood", sheet: "assets/images/sheet-music/cosi-cosa-sheet.jpg" },
            { title: "Adieu, es ist zu sch√∂n, um wahr zu sein", genre: "tango", year: 1933, publisher: "Edition Coda", lyricist: "Fritz Rotter", notes: "with Jurmann", film: "Abenteuer am Lido", period: "european" },
            { title: "Wie sch√∂n ist diese Welt", genre: "slow-fox", year: 1933, publisher: "Edition Coda", lyricist: "Fritz Rotter", notes: "with Jurmann", film: "Abenteuer am Lido", period: "european" },
            { title: "Wenn mich die M√§nner betr√ºgen", genre: "tango", year: 1930, publisher: "Alrobi Musikverlag", lyricist: "Fritz Rotter", notes: null, film: "Alraune", period: "european" },
            { title: "Nur Tango, nur Tango...", genre: "tango", year: 1930, publisher: "Alrobi Musikverlag", lyricist: "Fritz Rotter", notes: null, film: "Alraune", period: "european" },
            { title: "Blaue Jung's von der Marine", genre: null, year: 1930, publisher: "Alrobi Musikverlag", lyricist: "Fritz Rotter", notes: null, film: "Der Korvettenkapit√§n", period: "european" },
            // Continue with rest of songs...
            { title: "San Francisco", genre: null, year: 1936, publisher: "Robbins Music Corporation", lyricist: "Gus Kahn", notes: "with Jurmann", film: "San Francisco", period: "hollywood" },
            { title: "A zresztƒÖ niech pan do mnie zadzwoni", genre: "foxtrot", year: 1926, publisher: "Edition J. Altschuler", lyricist: "Andrzej W≈Çast", notes: "as Bruno Asper", film: null, period: "warsaw" },
            { title: "Jak siƒô da, to siƒô zrobi", genre: "foxtrot", year: 1926, publisher: "Edition J. Altschuler", lyricist: "Andrzej W≈Çast", notes: "as Bruno Asper", film: null, period: "warsaw" },
            { title: "Zga≈õ lampƒô", genre: "foxtrot", year: 1926, publisher: "Edition J. Altschuler", lyricist: "Andrzej W≈Çast", notes: "as Bruno Asper", film: null, period: "warsaw" }
            // ... add more songs as needed
        ];
        
        let chart;
        let currentFilter = 'all';
        let currentFilmFilter = 'all';
        let currentSongFilter = 'all';

        document.addEventListener('DOMContentLoaded', function() {
            renderFilms();
            renderSongs();
        });

        function showView(viewName) {
            document.querySelectorAll('.view').forEach(view => {
                view.classList.remove('active');
            });
            
            const targetView = document.getElementById(viewName);
            if (targetView) {
                targetView.classList.add('active');
            }
            
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            const activeNavBtn = document.getElementById('nav-' + viewName);
            if (activeNavBtn) {
                activeNavBtn.classList.add('active');
            }
            
            if (viewName === 'timeline') {
                setTimeout(() => initChart(), 100);
            }
            
            if (viewName === 'filmography') {
                setTimeout(() => renderFilms(), 100);
            }
            
            if (viewName === 'songs') {
                setTimeout(() => renderSongs(), 100);
            }
        }

        function filterPeriod(period) {
            currentFilter = period;
            
            document.querySelectorAll('.filters .filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            const activeBtn = document.getElementById('filter-' + period);
            if (activeBtn) {
                activeBtn.classList.add('active');
            }
            
            updateChart();
        }

        function filterFilms(period) {
            currentFilmFilter = period;
            
            document.querySelectorAll('.filmography-filters .filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            const activeBtn = document.getElementById('films-' + period);
            if (activeBtn) {
                activeBtn.classList.add('active');
            }
            
            renderFilms();
        }

        function filterSongs(period) {
            currentSongFilter = period;
            
            document.querySelectorAll('#songs .filmography-filters .filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            const activeBtn = document.getElementById('songs-' + period);
            if (activeBtn) {
                activeBtn.classList.add('active');
            }
            
            renderSongs();
        }

        function renderSongs() {
            const grid = document.getElementById('songsGrid');
            if (!grid) return;

            let filteredSongs = songsData;

            if (currentSongFilter !== 'all') {
                if (currentSongFilter === 'warsaw') {
                    filteredSongs = songsData.filter(song => song.year >= 1926 && song.year <= 1929);
                } else {
                    filteredSongs = songsData.filter(song => song.period === currentSongFilter);
                }
            }

            grid.innerHTML = filteredSongs.map(song => {
                const periodName = song.year >= 1926 && song.year <= 1929 ? 'warsaw' : song.period;
                const periodLabel = periodName === 'warsaw' ? 'Warsaw-Berlin' : 
                                  periodName === 'european' ? 'European' : 'Hollywood';
                
                const sheetMusic = song.sheet ? 
                    `<img src="${song.sheet}" alt="Sheet music for ${song.title}" class="song-sheet" onerror="this.style.display='none'">` : '';
                
                return `
                    <div class="film-card">
                        <div class="period-badge period-${periodName === 'warsaw' ? 'european' : periodName}">${periodLabel}</div>
                        ${sheetMusic}
                        <h3 class="film-title">${song.title}</h3>
                        <div class="film-year">${song.year}</div>
                        <div class="film-details">
                            ${song.genre ? `<div><strong>Genre:</strong> ${song.genre}</div>` : ''}
                            ${song.publisher ? `<div><strong>Publisher:</strong> ${song.publisher}</div>` : ''}
                            ${song.lyricist ? `<div><strong>Lyricist:</strong> ${song.lyricist}</div>` : ''}
                            ${song.film ? `<div><strong>From film:</strong> ${song.film}</div>` : ''}
                            ${song.notes ? `<div class="film-partner"><strong>Notes:</strong> ${song.notes}</div>` : ''}
                        </div>
                    </div>
                `;
            }).join('');
        }

        function renderFilms() {
            const grid = document.getElementById('filmsGrid');
            if (!grid) return;

            let filteredFilms = filmData;

            if (currentFilmFilter !== 'all') {
                filteredFilms = filmData.filter(film => film.period === currentFilmFilter);
            }

            grid.innerHTML = filteredFilms.map(film => {
                const posterImage = film.poster ? 
                    `<img src="${film.poster}" alt="Poster for ${film.title}" class="film-poster" onerror="this.style.display='none'">` : '';
                
                return `
                    <div class="film-card">
                        <div class="period-badge period-${film.period}">${film.period === 'european' ? 'European' : 'Hollywood'}</div>
                        ${posterImage}
                        <h3 class="film-title">${film.title}</h3>
                        <div class="film-year">${film.year}</div>
                        <div class="film-details">
                            <div><strong>Director:</strong> ${film.director}</div>
                            <div><strong>Production:</strong> ${film.production}</div>
                            <div class="film-partner"><strong>With Jurmann:</strong> ${film.jurmann}</div>
                            ${film.version ? `<div class="film-notes"><strong>Version of:</strong> ${film.version}</div>` : ''}
                        </div>
                    </div>
                `;
            }).join('');
        }

        function showPeriodTimeline(period) {
            showView('timeline');
            setTimeout(() => {
                filterPeriod(period);
            }, 100);
        }

        function getFilteredData() {
            if (currentFilter === 'all') return timelineData;
            
            const ranges = {
                warsaw: [1926, 1929],
                european: [1930, 1934],
                hollywood: [1935, 1939]
            };
            
            const [start, end] = ranges[currentFilter];
            return timelineData.filter(d => d.year >= start && d.year <= end);
        }

        function initChart() {
            const ctx = document.getElementById('timelineChart');
            if (!ctx) return;
            
            if (typeof Chart === 'undefined') {
                ctx.parentElement.innerHTML = '<div style="text-align: center; padding: 60px; color: #6b7280;">Timeline chart will load when Chart.js is available</div>';
                return;
            }
            
            const context = ctx.getContext('2d');
            if (!context) return;
            
            if (chart) {
                chart.destroy();
            }
            
            const data = getFilteredData();
            
            chart = new Chart(context, {
                type: 'line',
                data: {
                    labels: data.map(d => d.year),
                    datasets: [
                        {
                            label: 'Songs',
                            data: data.map(d => d.songs),
                            borderColor: '#111827',
                            backgroundColor: 'rgba(229, 231, 235, 0.8)',
                            fill: '+1',
                            tension: 0.4,
                            pointRadius: 4,
                            pointHoverRadius: 8,
                            pointBackgroundColor: '#111827',
                            pointBorderColor: '#111827'
                        },
                        {
                            label: 'Films',
                            data: data.map(d => d.films),
                            borderColor: '#374151',
                            backgroundColor: 'rgba(55, 65, 81, 0.9)',
                            fill: 'origin',
                            tension: 0.4,
                            pointRadius: 4,
                            pointHoverRadius: 8,
                            pointBackgroundColor: '#374151',
                            pointBorderColor: '#374151'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    interaction: {
                        intersect: false,
                        mode: 'index'
                    },
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            backgroundColor: 'white',
                            titleColor: '#111827',
                            bodyColor: '#374151',
                            borderColor: '#e5e7eb',
                            borderWidth: 1,
                            cornerRadius: 8,
                            padding: 12,
                            displayColors: false,
                            callbacks: {
                                title: function(context) {
                                    return context[0].label;
                                },
                                afterBody: function(context) {
                                    const songs = context.find(c => c.dataset.label === 'Songs')?.parsed.y || 0;
                                    const films = context.find(c => c.dataset.label === 'Films')?.parsed.y || 0;
                                    return `Total: ${songs + films} works`;
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            grid: {
                                display: false
                            },
                            ticks: {
                                color: '#6b7280',
                                font: {
                                    size: 14
                                }
                            }
                        },
                        y: {
                            display: false,
                            grid: {
                                display: false
                            }
                        }
                    }
                }
            });
        }

        function updateChart() {
            if (!chart) return;
            
            const data = getFilteredData();
            chart.data.labels = data.map(d => d.year);
            chart.data.datasets[0].data = data.map(d => d.songs);
            chart.data.datasets[1].data = data.map(d => d.films);
            chart.update('active');
        }

        document.getElementById('nav-overview').onclick = () => showView('overview');
        document.getElementById('nav-timeline').onclick = () => showView('timeline');
        document.getElementById('nav-periods').onclick = () => showView('periods');
        document.getElementById('nav-filmography').onclick = () => showView('filmography');
        document.getElementById('nav-songs').onclick = () => showView('songs');
    </script>
</body>
</html>
