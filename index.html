<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bronis≈Çaw Kaper - Films and Songs</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: white;
            color: #111827;
            overflow-x: hidden;
        }
        
        .container {
            width: 100vw;
            height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        .header {
            text-align: center;
            padding: 3rem 2rem;
            border-bottom: 1px solid #e5e7eb;
        }
        
        .title {
            font-size: 4rem;
            font-weight: 200;
            margin-bottom: 1rem;
            letter-spacing: -0.025em;
        }
        
        .period {
            font-size: 1.125rem;
            color: #9ca3af;
        }
        
        .navigation {
            display: flex;
            justify-content: center;
            padding: 2rem;
            background: #f9fafb;
            gap: 3rem;
        }
        
        .nav-btn {
            background: none;
            border: none;
            font-size: 1.125rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-weight: 500;
            padding-bottom: 0.75rem;
            cursor: pointer;
            transition: all 0.3s ease;
            color: #9ca3af;
        }
        
        .nav-btn.active {
            color: #111827;
            border-bottom: 2px solid #111827;
        }
        
        .nav-btn:hover {
            color: #374151;
        }
        
        .content {
            flex: 1;
            padding: 3rem 4rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .view {
            display: none;
        }
        
        .view.active {
            display: block;
        }
        
        /* Overview styles */
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 4rem;
            margin-bottom: 4rem;
        }
        
        .metric {
            text-align: center;
        }
        
        .metric-number {
            font-size: 4rem;
            font-weight: 200;
            margin-bottom: 1rem;
        }
        
        .metric-label {
            font-size: 1.25rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: #374151;
            margin-bottom: 0.5rem;
        }
        
        .metric-sublabel {
            font-size: 0.875rem;
            color: #9ca3af;
        }
        
        .studio-overview {
            margin: 3rem 0;
            padding: 2rem;
            background: #f9fafb;
            border-radius: 0.75rem;
            border: 1px solid #e5e7eb;
        }
        
        .studio-overview-title {
            font-size: 1.5rem;
            font-weight: 300;
            text-align: center;
            margin-bottom: 2rem;
            color: #111827;
        }
        
        .collaboration-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 2rem;
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: white;
            border-radius: 0.5rem;
            border: 1px solid #d1d5db;
        }
        
        .collab-stat {
            text-align: center;
        }
        
        .collab-number {
            font-size: 2.5rem;
            font-weight: 200;
            color: #111827;
            margin-bottom: 0.5rem;
        }
        
        .collab-label {
            font-size: 1rem;
            font-weight: 500;
            color: #374151;
            margin-bottom: 0.25rem;
        }
        
        .collab-detail {
            font-size: 0.875rem;
            color: #6b7280;
        }
        
        .studio-periods {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 2rem;
        }
        
        .studio-period h5 {
            font-size: 1.125rem;
            font-weight: 500;
            margin-bottom: 0.75rem;
            color: #374151;
        }
        
        .studio-period p {
            font-size: 0.875rem;
            color: #6b7280;
            line-height: 1.5;
        }
        
        .periods-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 3rem;
            margin-top: 4rem;
        }
        
        .period-card {
            text-align: center;
        }
        
        .period-number {
            width: 5rem;
            height: 5rem;
            border-radius: 50%;
            margin: 0 auto 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            font-weight: 300;
            color: white;
        }
        
        .period-name {
            font-size: 1.5rem;
            font-weight: 300;
            margin-bottom: 0.75rem;
        }
        
        .period-years {
            color: #6b7280;
            margin-bottom: 1rem;
        }
        
        .period-stats {
            font-size: 1.125rem;
            font-weight: 300;
            margin-bottom: 0.5rem;
        }
        
        .period-desc {
            font-size: 0.875rem;
            color: #9ca3af;
        }
        
        .period-studios {
            font-size: 0.75rem;
            color: #6b7280;
            margin-top: 0.5rem;
            font-style: italic;
        }
        
        /* Timeline styles */
        .chart-container {
            height: 400px;
            margin: 2rem 0;
        }
        
        .filters {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            margin-bottom: 3rem;
        }
        
        .filter-btn {
            background: none;
            border: 1px solid #d1d5db;
            padding: 0.75rem 1.5rem;
            border-radius: 9999px;
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            cursor: pointer;
            transition: all 0.3s ease;
            color: #6b7280;
        }
        
        .filter-btn.active {
            background: #111827;
            color: white;
            border-color: #111827;
        }
        
        .filter-btn:hover {
            color: #374151;
            border-color: #9ca3af;
        }
        
        .legend {
            display: flex;
            justify-content: center;
            gap: 3rem;
            margin-top: 2rem;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        
        .legend-color {
            width: 1rem;
            height: 1rem;
            border-radius: 0.25rem;
        }
        
        /* Periods detail styles */
        .periods-detail {
            display: flex;
            flex-direction: column;
            gap: 4rem;
        }
        
        .period-detail {
            display: flex;
            align-items: center;
            gap: 3rem;
            padding: 2rem;
            border-radius: 0.75rem;
            border: 1px solid #e5e7eb;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .period-detail:hover {
            border-color: #d1d5db;
        }
        
        .period-detail-number {
            width: 4rem;
            height: 4rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: 300;
            color: white;
            flex-shrink: 0;
        }
        
        .period-detail-content {
            flex: 1;
        }
        
        .period-detail-name {
            font-size: 2rem;
            font-weight: 300;
            margin-bottom: 0.5rem;
        }
        
        .period-detail-years {
            color: #6b7280;
            font-size: 1.125rem;
            margin-bottom: 0.75rem;
        }
        
        .period-detail-desc {
            color: #374151;
            margin-bottom: 0.5rem;
        }
        
        .period-detail-partner {
            font-size: 0.875rem;
            color: #9ca3af;
        }
        
        .period-detail-studios {
            font-size: 0.75rem;
            color: #6b7280;
            margin-top: 0.25rem;
            font-style: italic;
        }
        
        .period-detail-stats {
            text-align: right;
            flex-shrink: 0;
        }
        
        .period-detail-total {
            font-size: 2.5rem;
            font-weight: 300;
            margin-bottom: 0.5rem;
        }
        
        .period-detail-label {
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: #6b7280;
            margin-bottom: 1rem;
        }
        
        .period-detail-breakdown {
            font-size: 0.875rem;
            color: #374151;
            line-height: 1.5;
        }
        
        /* Filmography styles */
        .filmography-filters {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            margin-bottom: 3rem;
        }
        
        .films-container {
            max-height: 60vh;
            overflow-y: auto;
            padding: 0 1rem;
        }
        
        .films-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 1.5rem;
        }
        
        .film-card {
            background: #f9fafb;
            border: 1px solid #e5e7eb;
            border-radius: 0.75rem;
            padding: 1.5rem;
            transition: all 0.3s ease;
        }
        
        .film-card:hover {
            border-color: #d1d5db;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        
        .film-title {
            font-size: 1.125rem;
            font-weight: 500;
            margin-bottom: 0.5rem;
            color: #111827;
        }
        
        .film-year {
            font-size: 0.875rem;
            color: #6b7280;
            margin-bottom: 0.75rem;
        }
        
        .film-details {
            font-size: 0.875rem;
            color: #374151;
            line-height: 1.5;
        }
        
        .film-partner {
            margin-top: 0.5rem;
            font-size: 0.75rem;
            color: #9ca3af;
        }
        
        .film-notes {
            margin-top: 0.5rem;
            font-size: 0.75rem;
            color: #6b7280;
            font-style: italic;
        }
        
        .period-badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 0.75rem;
        }
        
        .period-european {
            background-color: #6b7280;
            color: white;
        }
        
        .period-hollywood {
            background-color: #111827;
            color: white;
        }
        
        @media (max-width: 768px) {
            .title { font-size: 2.5rem; }
            .metrics-grid { grid-template-columns: repeat(2, 1fr); gap: 2rem; }
            .periods-grid { grid-template-columns: 1fr; }
            .period-detail { flex-direction: column; text-align: center; }
            .content { padding: 2rem; }
            .navigation { gap: 1rem; }
            .films-grid { grid-template-columns: 1fr; }
            .studio-periods { grid-template-columns: 1fr; }
            .collaboration-stats { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h2 class="title">The Works of Bronis≈Çaw Kaper in the Context of Migration</h2>
            <h3 class="period">1926‚Äî1939</h3>
        </div>
        
        <div class="navigation">
            <button class="nav-btn active" id="nav-overview">Overview</button>
            <button class="nav-btn" id="nav-timeline">Timeline</button>
            <button class="nav-btn" id="nav-periods">Periods</button>
            <button class="nav-btn" id="nav-filmography">Filmography</button>
        </div>
        
        <div class="content">
            <!-- Overview View -->
            <div id="overview" class="view active">
                <div class="metrics-grid">
                    <div class="metric">
                        <div class="metric-number">175</div>
                        <div class="metric-label">Total Songs</div>
                        <div class="metric-sublabel">1926‚Äî1939</div>
                    </div>
                    <div class="metric">
                        <div class="metric-number">53</div>
                        <div class="metric-label">Film Titles</div>
                        <div class="metric-sublabel">31 European + 22 Hollywood</div>
                    </div>
                    <div class="metric">
                        <div class="metric-number">94%</div>
                        <div class="metric-label">With Jurmann</div>
                        <div class="metric-sublabel">50 of 53 films</div>
                    </div>
                </div>
                
                <div class="studio-overview">
                    <h4 class="studio-overview-title">Collaboration Statistics</h4>
                    <div class="collaboration-stats">
                        <div class="collab-stat">
                            <div class="collab-number">94%</div>
                            <div class="collab-label">Films with Jurmann</div>
                            <div class="collab-detail">50 of 53 films</div>
                        </div>
                        <div class="collab-stat">
                            <div class="collab-number">79%</div>
                            <div class="collab-label">Songs with Jurmann</div>
                            <div class="collab-detail">139 of 175 songs</div>
                        </div>
                    </div>
                    <div class="studio-periods">
                        <div class="studio-period">
                            <h5>European Period (1930-1934)</h5>
                            <p>Diverse studio landscape: UFA-Berlin, Aafa-Film, Emelka, Cine-Allianz, and French productions</p>
                        </div>
                        <div class="studio-period">
                            <h5>Hollywood Period (1935-1939)</h5>
                            <p>MGM dominance with 16/22 films; additional work at Universal Pictures and 20th Century Fox</p>
                        </div>
                    </div>
                </div>
                
                <div class="periods-grid">
                    <div class="period-card">
                        <div class="period-number" style="background-color: #e5e7eb; color: #374151;">1</div>
                        <h3 class="period-name">Between Warsaw and Berlin</h3>
                        <p class="period-years">1926‚Äî1929</p>
                        <div class="period-stats">12 songs ¬∑ 0 films</div>
                        <p class="period-desc">Early songs with Polish or German lyrics</p>
                    </div>
                    <div class="period-card">
                        <div class="period-number" style="background-color: #6b7280;">2</div>
                        <h3 class="period-name">European Period</h3>
                        <p class="period-years">1930‚Äî1934</p>
                        <div class="period-stats">97 songs ¬∑ 31 films</div>
                        <p class="period-desc">Berlin, Paris & international films</p>
                        <p class="period-studios">Main studios: UFA, Aafa, Emelka</p>
                    </div>
                    <div class="period-card">
                        <div class="period-number" style="background-color: #111827;">3</div>
                        <h3 class="period-name">Hollywood Period</h3>
                        <p class="period-years">1935‚Äî1939</p>
                        <div class="period-stats">66 songs ¬∑ 22 films</div>
                        <p class="period-desc">MGM studio contract (73% of films)</p>
                        <p class="period-studios">Main studios: MGM, Universal</p>
                    </div>
                </div>
            </div>
            
            <!-- Timeline View -->
            <div id="timeline" class="view">
                <div class="filters">
                    <button class="filter-btn active" id="filter-all">All Periods</button>
                    <button class="filter-btn" id="filter-warsaw">Warsaw-Berlin</button>
                    <button class="filter-btn" id="filter-european">Europe</button>
                    <button class="filter-btn" id="filter-hollywood">Hollywood</button>
                </div>
                
                <div class="chart-container">
                    <canvas id="timelineChart"></canvas>
                </div>
                
                <div class="legend">
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #e5e7eb;"></div>
                        <span>Songs</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #374151;"></div>
                        <span>Films</span>
                    </div>
                </div>
            </div>
            
            <!-- Periods View -->
            <div id="periods" class="view">
                <div class="periods-detail">
                    <div class="period-detail" id="period-warsaw">
                        <div class="period-detail-number" style="background-color: #e5e7eb; color: #374151;">1</div>
                        <div class="period-detail-content">
                            <h3 class="period-detail-name">Warsaw-Berlin</h3>
                            <p class="period-detail-years">1926‚Äî1929</p>
                            <p class="period-detail-desc">Early songs with Polish or German lyrics</p>
                            <p class="period-detail-partner">Partners: Andrzej W≈Çast & Fritz Rotter</p>
                        </div>
                        <div class="period-detail-stats">
                            <div class="period-detail-total">12</div>
                            <div class="period-detail-label">Total Works</div>
                            <div class="period-detail-breakdown">
                                <div>12 songs</div>
                                <div>0 films</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="period-detail" id="period-european">
                        <div class="period-detail-number" style="background-color: #6b7280;">2</div>
                        <div class="period-detail-content">
                            <h3 class="period-detail-name">European Period</h3>
                            <p class="period-detail-years">1930‚Äî1934</p>
                            <p class="period-detail-desc">Berlin, Paris, international films</p>
                            <p class="period-detail-partner">Partners: Walter Jurmann & Fritz Rotter</p>
                            <p class="period-detail-studios">Key studios: UFA-Berlin, Aafa-Film, Emelka, Cine-Allianz</p>
                        </div>
                        <div class="period-detail-stats">
                            <div class="period-detail-total">128</div>
                            <div class="period-detail-label">Total Works</div>
                            <div class="period-detail-breakdown">
                                <div>97 songs</div>
                                <div>31 films</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="period-detail" id="period-hollywood">
                        <div class="period-detail-number" style="background-color: #111827;">3</div>
                        <div class="period-detail-content">
                            <h3 class="period-detail-name">Hollywood Period</h3>
                            <p class="period-detail-years">1935‚Äî1939</p>
                            <p class="period-detail-desc">MGM studio contract</p>
                            <p class="period-detail-partner">Partners: Walter Jurmann, Gus Kahn, Ned Washington</p>
                            <p class="period-detail-studios">MGM dominance: 16/22 films (73%); also Universal, 20th Century Fox</p>
                        </div>
                        <div class="period-detail-stats">
                            <div class="period-detail-total">88</div>
                            <div class="period-detail-label">Total Works</div>
                            <div class="period-detail-breakdown">
                                <div>66 songs</div>
                                <div>22 films</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Filmography View -->
            <div id="filmography" class="view">
                <div class="filmography-filters">
                    <button class="filter-btn active" id="films-all">All Films (53)</button>
                    <button class="filter-btn" id="films-european">European Period (31)</button>
                    <button class="filter-btn" id="films-hollywood">Hollywood Period (22)</button>
                </div>
                
                <div class="films-container">
                    <div class="films-grid" id="filmsGrid">
                        <!-- Films will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Poprawne dane z pliku Excel
        const timelineData = [
            { year: 1926, songs: 3, films: 0 },
            { year: 1927, songs: 2, films: 0 },
            { year: 1929, songs: 7, films: 0 },
            { year: 1930, songs: 15, films: 3 },
            { year: 1931, songs: 21, films: 4 },
            { year: 1932, songs: 21, films: 8 },
            { year: 1933, songs: 25, films: 12 },
            { year: 1934, songs: 15, films: 4 },
            { year: 1935, songs: 13, films: 8 },
            { year: 1936, songs: 27, films: 5 },
            { year: 1937, songs: 23, films: 5 },
            { year: 1938, songs: 1, films: 2 },
            { year: 1939, songs: 2, films: 2 }
        ];

        // WSZYSTKIE 53 FILMY Z EXCELA
        const filmData = [
            { title: "Ihre Majest√§t die Liebe", director: "Joe May", year: 1931, period: "european", jurmann: "yes", production: "Joe May-Film AG" },
            { title: "Son altesse l'amour", director: "Robert P√©guy, Erich Schmidt", year: 1931, period: "european", jurmann: "yes", production: "International Standard Film, Paris/Joe May-Film Berlin", version of: "Ihre Majest√§t die Liebe" },
            { title: "Die lustigen Musikanten (Laubenkolonie)", director: "Max Obal", year: 1930, period: "european", jurmann: "no", production: "Aafa-Film AG, Berlin" },
            { title: "Alraune", director: "Richard Oswald", year: 1930, period: "european", jurmann: "no", production: "Richard Oswald-Produktion GmbH, Berlin" },
            { title: "Seitenspr√ºnge", director: "Istv√°n Sz√©kely", year: 1931, period: "european", jurmann: "yes", production: "Cicero-Film GmbH, Berlin" },
            { title: "Der Korvettenkapit√§n", director: "Rudolf Walther-Fein", year: 1930, period: "european", jurmann: "no", production: "Aafa-Film AG, Berlin" },
            { title: "Die gro√üe Attraktion", director: "Max Reichmann", year: 1931, period: "european", jurmann: "yes", production: "Emelka AG" },
            { title: "Ehe mit beschr√§nkter Haftung", director: "Franz Wenzler", year: 1932, period: "european", jurmann: "yes", production: "Hisa-Film Berlin/T.K. Tonfilm_Produktion GmbH" },
            { title: "Mariage √† responsabilit√© limit√©e", director: "Jean de Limur", year: 1933, period: "european", jurmann: "yes", production: "Vandor-Film, Francja" },
            { title: "Es wird schon wieder besser...", director: "Kurt Gerron", year: 1932, period: "european", jurmann: "yes", production: "UFA-Berlin" },
            { title: "Skandal in der Parkstrasse", director: "Franz Wenzler", year: 1932, period: "european", jurmann: "yes", production: "Kreis-Film, Berlin" },
            { title: "Melodie der Liebe", director: "Georg Jacoby", year: 1932, period: "european", jurmann: "yes", production: "Reichsliga-Film Berlin" },
            { title: "Ein toller Einfall", director: "Kurt Gerron", year: 1932, period: "european", jurmann: "yes", production: "Emelka Munchner Filmgesselschaft" },
            { title: "Die Zwei vom S√ºdexpre√ü", director: "Robert Wohlmuth", year: 1932, period: "european", jurmann: "yes", production: "Emelka-Konzern" },
            { title: "Hochzeitsreise zu Dritt", director: "Karl Meinhardt", year: 1932, period: "european", jurmann: "yes", production: "Mondial Internationale Filmindustrie AG, Wien" },
            { title: "Voyage de noces", director: "Germain Fried, Erich Schmidt", year: 1932, period: "european", jurmann: "yes", production: "Soci√©t√© Internationale Cin√©matographique" },
            { title: "Madame w√ºnscht keine Kinder", director: "Hans Steinhoff", year: 1933, period: "european", jurmann: "yes", production: "UFA" },
            { title: "L'Homme qui ne sait pas dire non", director: "Heinz Hilpert", year: 1933, period: "european", jurmann: "yes", production: "UFA-Cine Allianz" },
            { title: "Madame ne veut pas d'enfants", director: "Constantin Landau, Hans Steinhoff", year: 1933, period: "european", jurmann: "yes", production: "Vandor Film" },
            { title: "Heut kommt's drauf an", director: "Kurt Gerron", year: 1933, period: "european", jurmann: "yes", production: "Boston-Films-Co Berlin" },
            { title: "Ich will Dich Liebe lehren [Der gl√ºcklische Herr F√ºnf]", director: "Heinz Hilpert", year: 1933, period: "european", jurmann: "yes", production: "Pax Film GmbH" },
            { title: "Ein Lied f√ºr Dich", director: "Joe May", year: 1933, period: "european", jurmann: "yes", production: "UFA (Neubabelsberg) & Cine-Allianz" },
            { title: "My Song for You", director: "Maurice Elvey", year: 1934, period: "european", jurmann: "yes", production: "Gaumont British Picture Corporation/Cine Allianz" },
            { title: "Kind, ich freu' mich auf Dein Kommen", director: "Kurt Gerron, Erich von Neusser", year: 1933, period: "european", jurmann: "yes", production: "Pan-Film KG-Leopold Meissner/Austria" },
            { title: "Tout pour l'amour", director: "Henri-Georges Clouzot, Joe May", year: 1933, period: "european", jurmann: "yes", production: "Cine-Allianz Tonfilm & UFA" },
            { title: "Abenteuer am Lido", director: "Richard Oswald", year: 1933, period: "european", jurmann: "yes", production: "Richard Oswald-Produktion" },
            { title: "Le chant du destin", director: "Jean Legrand", year: 1933, period: "european", jurmann: "yes", production: "Pan-Film" },
            { title: "On a vol√© un homme", director: "Max Ophuls", year: 1934, period: "european", jurmann: "yes", production: "Fox Europa" },
            { title: "Le greluchon d√©licat", director: "Pierre Billon", year: 1934, period: "european", jurmann: "yes", production: "Foc Film Cooperation, Europa Films, Francja" },
            { title: "Les nuits moscovites", director: "Alexis Granovsky", year: 1934, period: "european", jurmann: "yes", production: "G.G. Film-France" },
            { title: "Une femme au volant", director: "Pierre Billon, Kurt Gerron", year: 1933, period: "european", jurmann: "yes", production: "Films R.P." },
            
            // Hollywood Period (1935-1939)
            { title: "Moscow Nights", director: "Anthony Asquith", year: 1935, period: "hollywood", jurmann: "yes", production: "London Films" },
            { title: "Escapade", director: "Robert Z. Leonard", year: 1935, period: "hollywood", jurmann: "yes", production: "MGM" },
            { title: "Mutiny on the Bounty", director: "Frank Lloyd", year: 1935, period: "hollywood", jurmann: "yes", production: "MGM" },
            { title: "Last of the Pagans", director: "Richard Thorpe", year: 1935, period: "hollywood", jurmann: "yes", production: "MGM" },
            { title: "A night at the opera", director: "Sam Wood", year: 1935, period: "hollywood", jurmann: "yes", production: "MGM" },
            { title: "Kind Lady", director: "George B. Seitz", year: 1935, period: "hollywood", jurmann: "yes", production: "MGM" },
            { title: "The Perfect Gentleman", director: "Tim Whelan", year: 1935, period: "hollywood", jurmann: "yes", production: "MGM" },
            { title: "Two Hearts in Wax Time", director: "William V. Skall", year: 1935, period: "hollywood", jurmann: "yes", production: "MGM" },
            { title: "Little Boy Blue", director: "Charles Lamont", year: 1936, period: "hollywood", jurmann: "yes", production: "Universal" },
            { title: "Trouble for Two", director: "J. Walter Ruben", year: 1936, period: "hollywood", jurmann: "yes", production: "MGM" },
            { title: "We Went to College", director: "Joseph Santley", year: 1936, period: "hollywood", jurmann: "yes", production: "MGM" },
            { title: "Three Smart Girls", director: "Henry Koster", year: 1936, period: "hollywood", jurmann: "yes", production: "Universal Pictures" },
            { title: "San Francisco", director: "W.S. Van Dyke", year: 1936, period: "hollywood", jurmann: "yes", production: "MGM" },
            { title: "Man of the People", director: "Edwin L. Marin", year: 1937, period: "hollywood", jurmann: "yes", production: "MGM" },
            { title: "Un coup de Rouge", director: "Jacques de Baroncelli", year: 1937, period: "hollywood", jurmann: "yes", production: "Cindeproduction, France" },
            { title: "Wings of the morning", director: "Harold D. Schuster", year: 1937, period: "hollywood", jurmann: "yes", production: "20th Century Fox" },
            { title: "A day at the races", director: "Sam Wood", year: 1937, period: "hollywood", jurmann: "yes", production: "MGM" },
            { title: "Maytime", director: "Robert Z. Leonard", year: 1937, period: "hollywood", jurmann: "yes", production: "MGM" },
            { title: "Everybody Sing", director: "Edwin L. Marin", year: 1938, period: "hollywood", jurmann: "yes", production: "MGM" },
            { title: "The Spy Ring", director: "Joseph H. Lewis", year: 1938, period: "hollywood", jurmann: "yes", production: "Universal" },
            { title: "The Adventures of Huckleberry Finn", director: "Richard Thorpe", year: 1939, period: "hollywood", jurmann: "yes", production: "MGM" },
            { title: "Birtright", director: "Oscar Micheaux", year: 1939, period: "hollywood", jurmann: "yes", production: "Micheaux Pictures" }
        ];

        let chart;
        let currentFilter = 'all';
        let currentFilmFilter = 'all';

        // Bezpieczna inicjalizacja
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Presentation loaded');
            setupEventListeners();
            renderFilms();
        });

        function setupEventListeners() {
            // Nawigacja
            safeAddListener('nav-overview', () => showView('overview'));
            safeAddListener('nav-timeline', () => showView('timeline'));
            safeAddListener('nav-periods', () => showView('periods'));
            safeAddListener('nav-filmography', () => showView('filmography'));
            
            // Filtry osi czasu
            safeAddListener('filter-all', () => filterPeriod('all'));
            safeAddListener('filter-warsaw', () => filterPeriod('warsaw'));
            safeAddListener('filter-european', () => filterPeriod('european'));
            safeAddListener('filter-hollywood', () => filterPeriod('hollywood'));
            
            // Filtry film√≥w
            safeAddListener('films-all', () => filterFilms('all'));
            safeAddListener('films-european', () => filterFilms('european'));
            safeAddListener('films-hollywood', () => filterFilms('hollywood'));
            
            // Szczeg√≥≈Çy okres√≥w
            safeAddListener('period-warsaw', () => showPeriodTimeline('warsaw'));
            safeAddListener('period-european', () => showPeriodTimeline('european'));
            safeAddListener('period-hollywood', () => showPeriodTimeline('hollywood'));
        }

        function safeAddListener(id, callback) {
            const element = document.getElementById(id);
            if (element) {
                element.addEventListener('click', callback);
            }
        }

        function showView(viewName) {
            // Ukryj wszystkie widoki
            document.querySelectorAll('.view').forEach(view => {
                view.classList.remove('active');
            });
            
            // Poka≈º wybrany widok
            const targetView = document.getElementById(viewName);
            if (targetView) {
                targetView.classList.add('active');
            }
            
            // Aktualizuj nawigacjƒô
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            const activeNavBtn = document.getElementById('nav-' + viewName);
            if (activeNavBtn) {
                activeNavBtn.classList.add('active');
            }
            
            // Inicjalizuj wykres je≈õli widok osi czasu
            if (viewName === 'timeline') {
                setTimeout(() => initChart(), 100);
            }
            
            // Inicjalizuj filmografiƒô je≈õli widok filmografii
            if (viewName === 'filmography') {
                setTimeout(() => renderFilms(), 100);
            }
        }

        function filterPeriod(period) {
            currentFilter = period;
            
            // Aktualizuj przyciski filtr√≥w
            document.querySelectorAll('.filters .filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            const activeBtn = document.getElementById('filter-' + period);
            if (activeBtn) {
                activeBtn.classList.add('active');
            }
            
            updateChart();
        }

        function filterFilms(period) {
            currentFilmFilter = period;
            
            // Aktualizuj przyciski filtr√≥w
            document.querySelectorAll('.filmography-filters .filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            const activeBtn = document.getElementById('films-' + period);
            if (activeBtn) {
                activeBtn.classList.add('active');
            }
            
            renderFilms();
        }

        function renderFilms() {
            const grid = document.getElementById('filmsGrid');
            if (!grid) return;

            let filteredFilms = filmData;

            if (currentFilmFilter !== 'all') {
                filteredFilms = filmData.filter(film => film.period === currentFilmFilter);
            }

            grid.innerHTML = filteredFilms.map(film => `
                <div class="film-card">
                    <div class="period-badge period-${film.period}">${film.period === 'european' ? 'European' : 'Hollywood'}</div>
                    <h3 class="film-title">${film.title}</h3>
                    <div class="film-year">${film.year}</div>
                    <div class="film-details">
                        <div><strong>Director:</strong> ${film.director}</div>
                        <div><strong>Production:</strong> ${film.production}</div>
                        <div class="film-partner"><strong>With Jurmann:</strong> ${film.jurmann}</div>
                        <div><strong>Version:</strong> ${film.version}</div>
                    </div>
                </div>
            `).join('');
        }

        function showPeriodTimeline(period) {
            showView('timeline');
            setTimeout(() => {
                filterPeriod(period);
            }, 100);
        }

        function getFilteredData() {
            if (currentFilter === 'all') return timelineData;
            
            const ranges = {
                warsaw: [1926, 1929],
                european: [1930, 1934],
                hollywood: [1935, 1939]
            };
            
            const [start, end] = ranges[currentFilter];
            return timelineData.filter(d => d.year >= start && d.year <= end);
        }

        function initChart() {
            const ctx = document.getElementById('timelineChart');
            if (!ctx) return;
            
            // Sprawd≈∫ czy Chart.js jest za≈Çadowany
            if (typeof Chart === 'undefined') {
                console.warn('Chart.js not loaded, showing fallback');
                ctx.parentElement.innerHTML = '<div style="text-align: center; padding: 60px; color: #6b7280;">Timeline chart will load when Chart.js is available</div>';
                return;
            }
            
            const context = ctx.getContext('2d');
            if (!context) return;
            
            if (chart) {
                chart.destroy();
            }
            
            const data = getFilteredData();
            
            chart = new Chart(context, {
                type: 'line',
                data: {
                    labels: data.map(d => d.year),
                    datasets: [
                        {
                            label: 'Songs',
                            data: data.map(d => d.songs),
                            borderColor: '#111827',
                            backgroundColor: 'rgba(229, 231, 235, 0.8)',
                            fill: '+1',
                            tension: 0.4,
                            pointRadius: 4,
                            pointHoverRadius: 8,
                            pointBackgroundColor: '#111827',
                            pointBorderColor: '#111827'
                        },
                        {
                            label: 'Films',
                            data: data.map(d => d.films),
                            borderColor: '#374151',
                            backgroundColor: 'rgba(55, 65, 81, 0.9)',
                            fill: 'origin',
                            tension: 0.4,
                            pointRadius: 4,
                            pointHoverRadius: 8,
                            pointBackgroundColor: '#374151',
                            pointBorderColor: '#374151'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    interaction: {
                        intersect: false,
                        mode: 'index'
                    },
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            backgroundColor: 'white',
                            titleColor: '#111827',
                            bodyColor: '#374151',
                            borderColor: '#e5e7eb',
                            borderWidth: 1,
                            cornerRadius: 8,
                            padding: 12,
                            displayColors: false,
                            callbacks: {
                                title: function(context) {
                                    return context[0].label;
                                },
                                afterBody: function(context) {
                                    const songs = context.find(c => c.dataset.label === 'Songs')?.parsed.y || 0;
                                    const films = context.find(c => c.dataset.label === 'Films')?.parsed.y || 0;
                                    return `Total: ${songs + films} works`;
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            grid: {
                                display: false
                            },
                            ticks: {
                                color: '#6b7280',
                                font: {
                                    size: 14
                                }
                            }
                        },
                        y: {
                            display: false,
                            grid: {
                                display: false
                            }
                        }
                    }
                }
            });
        }

        function updateChart() {
            if (!chart) return;
            
            const data = getFilteredData();
            chart.data.labels = data.map(d => d.year);
            chart.data.datasets[0].data = data.map(d => d.songs);
            chart.data.datasets[1].data = data.map(d => d.films);
            chart.update('active');
        }
    </script>
</body>
